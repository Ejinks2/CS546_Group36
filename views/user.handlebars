<main>
  <div class="user-profile-card">
    <h2 class="user-profile-header">User: {{user.username}}</h2>
    <div class="user-profile-actions">
      {{#unless userIsSelf}}
        <form method="post" id="userBan">
          <button type="submit" value="{{user.username}}" id="submitBan" class="ban-btn">Remove {{user.username}}</button>
        </form>
      {{/unless}}
      {{#unless user.admin}}
      <form method="post" id="makeAdmin">
        <button type="submit" value="{{user.username}}" id="submitAdmin" class="admin-btn">Make {{user.username}} an Admin</button>
      </form>
      {{/unless}}
    </div>
    <div class="user-profile-section">
      <h3>Reports</h3>
      {{#if user.reports.length}}
        <ul class="user-profile-reports-list">
          {{#each user.reports}}
            <li>
              <span class="report-offense">{{offense}}</span>
              <span class="report-meta">{{location}}, {{borough}}</span>
              <span class="report-date">{{date}}</span>
              <span class="report-desc">{{description}}</span>
            </li>
          {{/each}}
        </ul>
      {{else}}
        <div class="user-profile-empty">No reports</div>
      {{/if}}
    </div>
    <div class="user-profile-section">
      <h3>Comments</h3>
      {{#if user.comments.length}}
        <ul class="user-profile-comments-list">
          {{#each user.comments}}
            <li>
              <span class="comment-content">{{content}}</span>
              <span class="comment-date">{{updatedAt}}</span>
              <span class="comment-crime">{{crimeId}}</span>
            </li>
          {{/each}}
        </ul>
      {{else}}
        <div class="user-profile-empty">No comments</div>
      {{/if}}
    </div>
    <a href="/users" class="back-users-link">Back to Users</a>
  </div>
</main>

<script src="/js/userHandler.js"></script>